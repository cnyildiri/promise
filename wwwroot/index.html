<script>
    var myFunction = function (username) {
        return new Promise(
            (resolve, reject) => {
                setTimeout(function () { resolve(username + "'s promise is resolved"); }, 3000);

            }
        );
    }


    myFunction("Ella")
    .then( successMessage => {console.log(successMessage);})
    .then( () => myFunction("Fiona"))
    .then( successMessage => {console.log(successMessage);})
    .then( () => myFunction("Harold"))
    .catch( errorMessage => {console.log("Error: " + errorMessage);})

    console.log("Hi");
    console.log("How are you?");

    myFunction("Gary")
    .then( successMessage => {console.log(successMessage);})
    .catch( errorMessage => {console.log("Error: " + errorMessage);})

    console.log("How is your day?");

    var setBackgroundColor = function(){
        console.log("starting background color change");
        fetch("https://localhost:5001/decorations/bgcolor/a")
        .then(response => {return response.text()})
        .then(text => {document.getElementById("stage").style.backgroundColor = text; console.log("completed background color change");})
        
    }

    async function setBackgroundColorAsync() {
        console.log("starting background color change");
        let response = await fetch("https://localhost:5001/decorations/bgcolor/a")
        let text = await response.text();
        document.getElementById("stage").style.backgroundColor = text; 
        console.log("completed background color change");
    }
    var setBorder = function(){
        console.log("Starting border change");
        fetch("https://localhost:5001/decorations/border/a")
        .then(response => {return response.text()})
        .then(text => {document.getElementById("stage").style.border = text; console.log("completed border change");})
    }
</script>

<h2 id="stage"> Welcome! </h2>
<p><button onclick="setBackgroundColorAsync()"> Click to decorate with background color </button></p>
<p><button onclick="setBorder()"> Click to add a border </button></p>